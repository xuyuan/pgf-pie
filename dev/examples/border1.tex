\documentclass{standalone}
\usepackage{pgf-pie}
\usepackage[most]{tcolorbox}

\begin{document}

\begin{tcblisting}{text and listing,center upper,boxrule=0pt,frame hidden}
\begin{tikzpicture}
\pie[color={black!10, black!20, black!30,black!40},border=red]{10/A, 20/B, 30/C, 40/D}
\end{tikzpicture}
\end{tcblisting}

\end{document}